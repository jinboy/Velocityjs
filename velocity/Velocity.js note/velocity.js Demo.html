<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.11 (454876)"/><meta name="author" content="zjdefine@gmail.com"/><meta name="created" content="2017-05-05 02:16:39 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-05-05 12:38:28 +0000"/><title>velocity.js Demo</title></head><body><div>需求，当刷新页面的时候，会有一个卡片伴随的入场动画进入到页面，当点击卡片上的按钮的时候卡片会有一个出场 的动画，卡片的另外一面会有一个入场动画，同时卡片上的四张图片也会有一个弹出式的效果。</div><div>实现动画的手段是多种多样的，比如flash，jquery，css3，这边使用Velocity.js</div><div><br/></div><div>* {</div><div>    margin: 0;</div><div>    padding</div><div>}//记得全局清除内外边距</div><div><br/></div><div><span style="font-size: 18px; color: rgb(4, 51, 255);">正面效果</span></div><div><img src="velocity.js%20Demo.resources/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-05-05%2011.35.31.png" height="1214" width="772"/><br/></div><div>.container {</div><div>    width: 320px;</div><div>    height: 420px;</div><div>    border: 1px solid #ddd;</div><div>    background: #fff;</div><div>    margin: 10px auto;</div><div>    position: relative;</div><div>}</div><div>.box {</div><div>    position: relative;    </div><div>}</div><div>.box #top_back_img {</div><div>    width: 320px;</div><div>    height: 213px;</div><div>}</div><div>.box #head_img {</div><div>    position: absolute;</div><div>    width: 96px;</div><div>    height: 96px;</div><div>    left: 50%;</div><div>    top: 213px;</div><div>    border-radius: 50%;</div><div>    margin-left: -48px;</div><div>    margin-top: -48px;</div><div>}</div><div>.inner {</div><div>    margin-top: 66px; /*header.height*0.5 + 26px*/</div><div>    text-align: center;</div><div>}</div><div>.inner span {</div><div>    font-size: 14px;</div><div>    color: #b4b4b4;</div><div>    display: block;</div><div>    margin-top: 5px;</div><div>}</div><div>.inner .bottom_button {</div><div>    width: 180px;</div><div>    height: 45px;</div><div>    inline-height: 45px;</div><div>    margin-top: 25px;</div><div>    background-color: #5677fc;</div><div>    color: #fff;</div><div>    border-radius: 5px;</div><div>    display: inline-block;</div><div>    cursor: pointer;</div><div>    transition: background-color 0.2s;</div><div>}</div><div>.inner .bottom_button:hover {</div><div>    background-color: #3b50ce;</div><div>}</div><div><br/></div><div><span style="font-size: 18px; color: rgb(4, 51, 255);">下面着手背面效果</span></div><div><span style="font-size: 18px; color: rgb(4, 51, 255);">背面效果</span></div><div><img src="velocity.js%20Demo.resources/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-05-05%2020.37.06.png" height="854" width="674"/><br/></div><div>&lt;div class="back_box"&gt;</div><div>            &lt;div class="close"&gt;&amp;times;&lt;/div&gt;</div><div>            &lt;h3&gt;Tabbits Velocity.js Demo&lt;/h3&gt;</div><div>            &lt;span&gt;我是小进&lt;/span&gt;</div><div>            &lt;img src="imgs/1.jpg" alt=""&gt;</div><div>            &lt;img src="imgs/2.jpg" alt=""&gt;</div><div>            &lt;img src="imgs/3.jpg" alt=""&gt;</div><div>            &lt;img src="imgs/4.jpg" alt=""&gt;</div><div>        &lt;/div&gt;</div><div><br/></div><div>.back_box {</div><div>    position: absolute;</div><div>    left: 0px;</div><div>    top: 0px;</div><div>    width: 100%;</div><div>    height: 100%;</div><div>    text-align: center;</div><div>}</div><div>.back_box .close {</div><div>    position: absolute;</div><div>    top: 0px;</div><div>    right: 10px;</div><div>    color: #999;</div><div>    font-size: 24px;</div><div>    font-family: helvetica;</div><div>}</div><div>.back_box .close:hover {</div><div>    color: #111;</div><div>    cursor: pointer;</div><div>}</div><div>.back_box h3 {</div><div>    margin-top: 15px;</div><div>}</div><div>.back_box span {</div><div>    display: block;</div><div>    font-size: 12px;</div><div>    color: #999;</div><div>    margin-top: 20px;</div><div>    margin-bottom: 20px;</div><div>}</div><div>.back_box img {</div><div>    width: 125px;</div><div>    height: 125px;</div><div>    display: inline-block;</div><div>    margin: 10px;</div><div>}</div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 18px; color: rgb(4, 51, 255);">动画效果</span></div><div><span style="font-size: 18px; color: rgb(4, 51, 255);">1.入场动画</span></div><div>(function($) {</div><div>    //将DOM中的元素选出来</div><div>    var container = $(".container");</div><div>    var box = $(".box");</div><div>    var head_img = $("#head_img");</div><div>    var back = $(".back");</div><div>    var open = $(".bottom_button");</div><div>    var close = $(".close");</div><div>    var imgs = back.find("img");//z这边的imgs将是一个数组</div><div><br/></div><div>    // 首先入场动画</div><div>    //1.自定义动画，即从下往上入场</div><div>    $.Velocity.RegisterEffect("Tabbits.fromButtonToTop",{</div><div>        defaultDuration: 500,</div><div>        //定义数组calls,calls里面的每一个元素也是数组</div><div>        calls: [</div><div>            [{opacity:[1,0],translateY:[0,100]}]</div><div>            //{opacity:[1,0]中的1指的是动画结束时的状态，0指的是动画开始时的状态</div><div>            //Y方向上的位移使用translateY，translateY:[0,100]，结束的时候为0，开始的时候向下100px</div><div>        ]</div><div>    });//至此，自定义动画暂告一段落</div><div><br/></div><div>    //2.定义一个sequnence动画序列</div><div>    var seqInit = [{</div><div>        elements: container,//每个元素都有elements</div><div>        properties: "Tabbits.fromButtonToTop",//properties使用上面的自定义动画</div><div>        //还有options，不希望页面刚打开动画就开始</div><div>        options: {</div><div>            delay: 300</div><div>        }</div><div>    },{</div><div>        elements: box,//每个元素都有elements</div><div>        properties: "Tabbits.fromButtonToTop",//properties使用上面的自定义动画</div><div>        //还有options，不希望页面刚打开动画就开始</div><div>        options: {</div><div>            // delay: 300 //box不需要delay</div><div>        }</div><div>    },{</div><div>        elements: head_img,//每个元素都有elements</div><div>        properties: "Tabbits.fromButtonToTop",//properties使用上面的自定义动画</div><div>        //还有options，不希望页面刚打开动画就开始</div><div>        options: {</div><div>            delay: 60</div><div>        }</div><div>    }</div><div>    ];</div><div>    //3.调用RunSequence函数将自定义动画跑起来</div><div>    $.Velocity.RunSequence(seqInit);</div><div>})(jQuery);</div><div><br/></div><div><br/></div><div>改进</div><div>动画是依次执行的，也就是这个sequence默认的是依次执行的。怎么让他同时执行呢？其实options里面还有一个属性sequenceQueue，将它设置为false.</div><div>var seqInit = [{</div><div>        elements: container,//每个元素都有elements</div><div>        properties: "Tabbits.fromButtonToTop",//properties使用上面的自定义动画</div><div>        //还有options，不希望页面刚打开动画就开始</div><div>        options: {</div><div>            delay: 300</div><div>        }</div><div>    },{</div><div>        elements: box,//每个元素都有elements</div><div>        properties: "Tabbits.fromButtonToTop",//properties使用上面的自定义动画</div><div>        //还有options，不希望页面刚打开动画就开始</div><div>        options: {</div><div>            // delay: 300 //box不需要delay</div><div>           <span style="color: rgb(255, 38, 0);"> sequneceQueue: false</span></div><div>        }</div><div>    },{</div><div>        elements: head_img,//每个元素都有elements</div><div>        properties: "Tabbits.fromButtonToTop",//properties使用上面的自定义动画</div><div>        //还有options，不希望页面刚打开动画就开始</div><div>        options: {</div><div>            <span style="color: rgb(255, 38, 0);">sequneceQueue: false,</span></div><div>            delay: 60</div><div>        }</div><div>    }</div><div>    ];</div><div><br/></div><div><span style="font-size: 18px; color: rgb(4, 51, 255);">2.按钮点击动画</span></div><div><span style="font-size: 14px;">按钮点击之后，首先container要向下消失，box也要向下消失，消失完之后container又会出现，back出现，back_img还会有弹出式的动画，一共是有5个序列让他们串联起来。</span></div><div><span style="font-size: 14px;">首先定义由上到下的出场动画Tabbits.FromTopToButtom</span></div><div><span style="font-size: 14px;">Tabbits.FromTopToButtom也很简单，将从下往上的自定义动画</span><span style="font-size: 14px;">Tabbits.fromButtonToTop的始末值对换即可。</span></div><div><span style="color: rgb(255, 38, 0);">// 4.自定义出场动画，Y轴上的变化</span></div><div><span style="color: rgb(255, 38, 0);">    $.Velocity.RegisterEffect("Tabbits.fromTopToButtom",{</span></div><div><span style="color: rgb(255, 38, 0);">        defaultDuration: 200,        //时间稍微改短一下，收尾快点</span></div><div><span style="color: rgb(255, 38, 0);">        calls: [</span></div><div><span style="color: rgb(255, 38, 0);">            [{opacity: [0,1], translateY: [100,0]}]</span></div><div><span style="color: rgb(255, 38, 0);">        ]</span></div><div><span style="color: rgb(255, 38, 0);">    });</span></div><div><span style="color: rgb(255, 38, 0);">    //5.自定义back_img动画，有由小变到原来的尺寸，用scale</span></div><div><span style="color: rgb(255, 38, 0);">    $.Velocity.RegisterEffect("Tabbits.back_imgIn",{</span></div><div><span style="color: rgb(255, 38, 0);">        defaultDuration: 20000,</span></div><div><span style="color: rgb(255, 38, 0);">        calls: [</span></div><div><span style="color: rgb(255, 38, 0);">            [{opacity: [1,0], scale: [1,0.3]}]  //以0.2倍大小到1倍大小的动画出现</span></div><div><span style="color: rgb(255, 38, 0);">        ] </span></div><div><span style="color: rgb(255, 38, 0);">    });</span></div><div><br/></div><div>下面定义sequence</div><div><br/></div><div><span style="color: rgb(255, 38, 0);">//6.定义点击按钮动画的sequence动画序列</span></div><div><span style="color: rgb(255, 38, 0);">    var sequenceButtonClick = [{</span></div><div><span style="color: rgb(255, 38, 0);">        elements: container,</span></div><div><span style="color: rgb(255, 38, 0);">        properties: "Tabbits.fromTopToButtom",</span></div><div><span style="color: rgb(255, 38, 0);">        options: {</span></div><div><span style="color: rgb(255, 38, 0);">            sequenceQueue: false,</span></div><div><span style="color: rgb(255, 38, 0);">            delay: 300</span></div><div><span style="color: rgb(255, 38, 0);">        }</span></div><div><span style="color: rgb(255, 38, 0);">    },{//正面出场</span></div><div><span style="color: rgb(255, 38, 0);">        elements: box,</span></div><div><span style="color: rgb(255, 38, 0);">        properties: "Tabbits.fromTopToButtom",</span></div><div><span style="color: rgb(255, 38, 0);">        options: {</span></div><div><span style="color: rgb(255, 38, 0);">            sequenceQueue: false</span></div><div><span style="color: rgb(255, 38, 0);">        }</span></div><div><span style="color: rgb(255, 38, 0);">    },{//容器重新入场</span></div><div><span style="color: rgb(255, 38, 0);">        elements: container,</span></div><div><span style="color: rgb(255, 38, 0);">        properties: "Tabbits.fromButtonToTop",//再让container进来</span></div><div><span style="color: rgb(255, 38, 0);">    },{//背面入场</span></div><div><span style="color: rgb(255, 38, 0);">        elements: back_box,</span></div><div><span style="color: rgb(255, 38, 0);">        properties: "Tabbits.fromButtonToTop",</span></div><div><span style="color: rgb(255, 38, 0);">        options: {</span></div><div><span style="color: rgb(255, 38, 0);">            sequenceQueue: false</span></div><div><span style="color: rgb(255, 38, 0);">        }</span></div><div><span style="color: rgb(255, 38, 0);">    },{//背面图片入场</span></div><div><span style="color: rgb(255, 38, 0);">        // elememts: imgs,</span></div><div><span style="color: rgb(255, 38, 0);">        // properties: "Tabbits.back_imgIn",</span></div><div><span style="color: rgb(255, 38, 0);">        elements: back_box_imgs,</span></div><div><span style="color: rgb(255, 38, 0);">        properties: "Tabbits.back_imgIn",</span></div><div><span style="color: rgb(255, 38, 0);">        options: {</span></div><div><span style="color: rgb(255, 38, 0);">            sequenceQueue: false</span></div><div><span style="color: rgb(255, 38, 0);">        }</span></div><div><span style="color: rgb(255, 38, 0);">    }];</span></div><div><br/></div><div><span style="color: rgb(255, 38, 0);">    //3.调用RunSequence函数将自定义动画跑起来</span></div><div><span style="color: rgb(255, 38, 0);">    $.Velocity.RunSequence(sequenceInit);</span></div><div><span style="color: rgb(255, 38, 0);">    open.on('click',function(){</span></div><div><span style="color: rgb(255, 38, 0);">        $.Velocity.RunSequence(sequenceButtonClick);</span></div><div><span style="color: rgb(255, 38, 0);">    });</span></div><div>但是现在点击按钮是没有效果的，为什么？</div><div>这是因为样式的问题，这个demo有正面，有背面，<span style="color: rgb(255, 38, 0);">正面的上面有背面，尽管将背面透明度设为0，也就是说背面是覆盖在正面之上的，所以点击的时候是作用在背面，或者说根本就没有点到按钮，很好解决，将正面的优先级提高，z-index: 2;就好了</span></div><div><br/></div><div><span style="font-size: 18px; color: rgb(4, 51, 255);">3.关闭按钮</span></div><div><span style="color: rgb(255, 38, 0);">//7.自定义back_img出场动画</span></div><div><span style="color: rgb(255, 38, 0);">    $.Velocity.RegisterEffect("Tabbits.back_imgOut",{</span></div><div><span style="color: rgb(255, 38, 0);">        defaultDuration: 1000,</span></div><div><span style="color: rgb(255, 38, 0);">        calls: [</span></div><div><span style="color: rgb(255, 38, 0);">            [{opacity: [0,1],scale: [0.3,1]}]</span></div><div><span style="color: rgb(255, 38, 0);">        ]</span></div><div><span style="color: rgb(255, 38, 0);">    });</span></div><div>下面定义关闭按钮的sequence动画序列</div><div><span style="color: rgb(255, 38, 0);">//8.定义关闭按钮的sequence动画序列</span></div><div><span style="color: rgb(255, 38, 0);">    var sequenceClose = [{</span></div><div><span style="color: rgb(255, 38, 0);">        elements: back_box_imgs,</span></div><div><span style="color: rgb(255, 38, 0);">        properties: "Tabbits.back_imgOut"</span></div><div><span style="color: rgb(255, 38, 0);">    },{</span></div><div><span style="color: rgb(255, 38, 0);">        elements: container,</span></div><div><span style="color: rgb(255, 38, 0);">        properties: "Tabbits.fromTopToBottom",</span></div><div><span style="color: rgb(255, 38, 0);">        options: {</span></div><div><span style="color: rgb(255, 38, 0);">            sequenceQueue: false,</span></div><div><span style="color: rgb(255, 38, 0);">            delay: 3000</span></div><div><span style="color: rgb(255, 38, 0);">        }</span></div><div><span style="color: rgb(255, 38, 0);">    },{//背面出场</span></div><div><span style="color: rgb(255, 38, 0);">        elements: back_box,</span></div><div><span style="color: rgb(255, 38, 0);">        properties: "Tabbits.fromTopToBottom",</span></div><div><span style="color: rgb(255, 38, 0);">        options: {</span></div><div><span style="color: rgb(255, 38, 0);">            sequenceQueue: false</span></div><div><span style="color: rgb(255, 38, 0);">        }</span></div><div><span style="color: rgb(255, 38, 0);">    },{//容器重新入场</span></div><div><span style="color: rgb(255, 38, 0);">        elements: container,</span></div><div><span style="color: rgb(255, 38, 0);">        properties: "Tabbits.fromBottomToTop",//再让container进来</span></div><div><span style="color: rgb(255, 38, 0);">    },{//正面入场</span></div><div><span style="color: rgb(255, 38, 0);">        elements: box,</span></div><div><span style="color: rgb(255, 38, 0);">        properties: "Tabbits.fromBottomToTop",</span></div><div><span style="color: rgb(255, 38, 0);">        options: {</span></div><div><span style="color: rgb(255, 38, 0);">            sequenceQueue: false</span></div><div><span style="color: rgb(255, 38, 0);">        }</span></div><div><span style="color: rgb(255, 38, 0);">    }];</span></div><div><br/></div><div><span style="color: rgb(255, 38, 0);">close.on('click',function() {</span></div><div><span style="color: rgb(255, 38, 0);">        $.Velocity.RunSequence(sequenceClose);</span></div><div><span style="color: rgb(255, 38, 0);">    });</span></div><div><span style="color: rgb(255, 38, 0);">    </span></div><div><br/></div><div><span style="font-size: 18px; color: rgb(4, 51, 255);">总结</span></div><div><span style="font-size: 14px;">使用Velocity.js做动画是非常简单的，尤其是在</span><span style="font-size: 14px; color: rgb(255, 38, 0);">动画序列</span><span style="font-size: 14px;">的场景（A动完B动，B动完C动……）</span></div><div><span style="font-size: 14px;">1、Velocity.js的特性：</span><span style="font-size: 14px;">在浏览器/兼容性方面和移动端性能方面做了优化</span></div><div><span style="font-size: 14px;">2、Velocity.js的用法</span></div><div><span style="font-size: 14px;">3、JS插件的学习方法（3步）：</span><span style="font-size: 14px;">官网了解、案例运行、熟悉细节</span></div><div><span style="font-size: 14px;">代码小结</span></div><div><span style="font-size: 14px;">html：</span></div><div>&lt;!DOCTYPE html&gt;</div><div>&lt;html lang="en"&gt;</div><div>&lt;head&gt;</div><div>    &lt;meta charset="UTF-8"&gt;</div><div>    &lt;title&gt;velocity.js_demo&lt;/title&gt;</div><div>    &lt;link rel="stylesheet" type="text/css" href="css/style.css"&gt;</div><div>    &lt;script type="text/javascript" src="js/jquery-3.2.1.js"&gt;&lt;/script&gt;</div><div>    &lt;!-- 下面引入Velocity的两个库 --&gt;</div><div>    &lt;script type="text/javascript" src="js/velocity.min.js"&gt;&lt;/script&gt;</div><div>    &lt;script type="text/javascript" src="js/velocity.ui.min.js"&gt;&lt;/script&gt;</div><div>&lt;/head&gt;</div><div>&lt;body&gt;</div><div>    &lt;div class="container"&gt;</div><div>        &lt;div class="box"&gt;</div><div>            &lt;img id="top_back_img" src="imgs/back.jpg" alt=""&gt;</div><div>            &lt;img id="head_img" src="imgs/xiaojin.jpg" alt=""&gt;</div><div>            &lt;div class="inner"&gt;</div><div>                &lt;h3&gt;Tabbits Velocity.js Demo&lt;/h3&gt;</div><div>                &lt;span&gt;我是小进&lt;/span&gt;</div><div>                &lt;button class="bottom_button"&gt;快进来嘛&lt;/button&gt;</div><div>            &lt;/div&gt;</div><div>        &lt;/div&gt;</div><div>        &lt;div class="back_box"&gt;</div><div>            &lt;div class="close"&gt;&amp;times;&lt;/div&gt;</div><div>            &lt;h3&gt;Tabbits Velocity.js Demo&lt;/h3&gt;</div><div>            &lt;span&gt;我是小进&lt;/span&gt;</div><div>            &lt;img src="imgs/1.jpg" alt=""&gt;</div><div>            &lt;img src="imgs/2.jpg" alt=""&gt;</div><div>            &lt;img src="imgs/3.jpg" alt=""&gt;</div><div>            &lt;img src="imgs/4.jpg" alt=""&gt;</div><div>        &lt;/div&gt;</div><div>    &lt;/div&gt;</div><div>    &lt;script type="text/javascript" src="js/script.js"&gt;&lt;/script&gt;</div><div>&lt;/body&gt;</div><div>&lt;/html&gt;</div><div><br/></div><div>css：</div><div>@charset "utf-8";</div><div><br/></div><div>* {</div><div>    margin: 0;</div><div>    padding: 0;</div><div>}</div><div>.container {</div><div>    width: 320px;</div><div>    height: 420px;</div><div>    border: 1px solid #ddd;</div><div>    background: #fff;</div><div>    margin: 10px auto;</div><div>    position: relative;</div><div>}</div><div>.box {</div><div>    position: relative;    </div><div>    z-index: 2;</div><div>}</div><div>.box #top_back_img {</div><div>    width: 320px;</div><div>    height: 213px;</div><div>}</div><div>.box #head_img {</div><div>    position: absolute;</div><div>    width: 96px;</div><div>    height: 96px;</div><div>    left: 50%;</div><div>    top: 213px;</div><div>    border-radius: 50%;</div><div>    margin-left: -48px;</div><div>    margin-top: -48px;</div><div>}</div><div>.inner {</div><div>    margin-top: 66px; /*header.height*0.5 + 26px*/</div><div>    text-align: center;</div><div>}</div><div>.inner span {</div><div>    font-size: 14px;</div><div>    color: #b4b4b4;</div><div>    display: block;</div><div>    margin-top: 5px;</div><div>}</div><div>.inner .bottom_button {</div><div>    width: 180px;</div><div>    height: 45px;</div><div>    inline-height: 45px;</div><div>    margin-top: 25px;</div><div>    background-color: #5677fc;</div><div>    color: #fff;</div><div>    border-radius: 5px;</div><div>    display: inline-block;</div><div>    cursor: pointer;</div><div>    transition: background-color 0.2s;</div><div>}</div><div>.inner .bottom_button:hover {</div><div>    background-color: #3b50ce;</div><div>}</div><div><br/></div><div>/*</div><div>.box {</div><div>    display: none;</div><div>}*/</div><div><br/></div><div><br/></div><div>.back_box {</div><div>    position: absolute;</div><div>    left: 0px;</div><div>    top: 0px;</div><div>    width: 100%;</div><div>    height: 100%;</div><div>    text-align: center;</div><div>}</div><div>.back_box .close {</div><div>    position: absolute;</div><div>    top: 0px;</div><div>    right: 10px;</div><div>    color: #999;</div><div>    font-size: 24px;</div><div>    font-family: helvetica;</div><div>}</div><div>.back_box .close:hover {</div><div>    color: #111;</div><div>    cursor: pointer;</div><div>}</div><div>.back_box h3 {</div><div>    margin-top: 15px;</div><div>}</div><div>.back_box span {</div><div>    display: block;</div><div>    font-size: 12px;</div><div>    color: #999;</div><div>    margin-top: 20px;</div><div>    margin-bottom: 20px;</div><div>}</div><div>.back_box img {</div><div>    width: 125px;</div><div>    height: 125px;</div><div>    display: inline-block;</div><div>    margin: 10px;</div><div>}</div><div><br/></div><div>.container,.box,.head_img,.back_box,.back_box img {</div><div>    opacity: 0.0;</div><div>}</div><div><br/></div><div>js：</div><div>(function($) {</div><div><br/></div><div>//1.定义变量（动画元素，事件变量比如按钮）</div><div><br/></div><div>    // 将DOM中的元素选出来</div><div>    var container = $(".container");</div><div>    var box = $(".box");</div><div>    var head_img = $("#head_img");</div><div>    var back_box = $(".back_box");</div><div>    var open = $(".bottom_button");</div><div>    var close = $(".close");</div><div>    var back_box_imgs = back_box.find("img");//z这边的imgs将是一个数组</div><div><br/></div><div>//2.自定义动画（入场动画，出场动画，背面图片单独的入场动画，背面图片单独的出场动画）</div><div><br/></div><div>    // 首先入场动画</div><div>    //2.自定义动画，即从下往上入场，Y轴上的变化</div><div>    $.Velocity.RegisterEffect("Tabbits.fromBottomToTop",{</div><div>        defaultDuration: 500,</div><div>        //定义数组calls,calls里面的每一个元素也是数组</div><div>        calls: [</div><div>            [{opacity:[1,0], translateY:[0,100]}]</div><div>            //{opacity:[1,0]中的1指的是动画结束时的状态，0指的是动画开始时的状态</div><div>            //Y方向上的位移使用translateY，translateY:[0,100]，结束的时候为0，开始的时候向下100px</div><div>        ]</div><div>    });</div><div>    // 5.自定义出场动画，Y轴上的变化</div><div>    $.Velocity.RegisterEffect("Tabbits.fromTopToBottom",{</div><div>        defaultDuration: 200,        //时间稍微改短一下，收尾快点</div><div>        calls: [</div><div>            [{opacity: [0,1], translateY: [100,0]}]</div><div>        ]</div><div>    });</div><div>    //6.自定义back_img入场动画，有由小变到原来的尺寸，用scale</div><div>    $.Velocity.RegisterEffect("Tabbits.back_imgIn",{</div><div>        defaultDuration: 1000,</div><div>        calls: [</div><div>            [{opacity: [1,0], scale: [1,0.3]}]  //以0.2倍大小到1倍大小的动画出现，注意始终值别弄反了，尤其是opacity弄反了直接看不来哦效果</div><div>        ] </div><div>    });</div><div>    // $.Velocity.RegisterEffect("Tabbits.back_imgIn",{</div><div>    //         defaultDuration: 200,        //时间稍微改短一下，收尾快点</div><div>    //         calls: [</div><div>    //             [{opacity: [1,0], scale: [1,0.3]}]</div><div>    //         ]</div><div>    //     });</div><div><br/></div><div>    //8.自定义back_img出场动画</div><div>    $.Velocity.RegisterEffect("Tabbits.back_imgOut",{</div><div>        defaultDuration: 3000,</div><div>        calls: [</div><div>            [{opacity: [0,1],scale: [0.3,1]}]</div><div>        ]</div><div>    });</div><div><br/></div><div>//3.sequence动画序列（入场动画序列、点击按钮出场序列和入场序列、点击关闭的入场和出场序列）</div><div><br/></div><div>    //3.定义入场动画sequnence动画序列</div><div>    var sequenceInit = [{</div><div>        elements: container,//每个元素都有elements</div><div>        properties: "Tabbits.fromBottomToTop",//properties使用上面的自定义动画</div><div>        //还有options，不希望页面刚打开动画就开始</div><div>        options: {</div><div>            delay: 300</div><div>        }</div><div>    },{</div><div>        elements: box,//每个元素都有elements</div><div>        properties: "Tabbits.fromBottomToTop",//properties使用上面的自定义动画</div><div>        //还有options，不希望页面刚打开动画就开始</div><div>        options: {</div><div>            // delay: 300 //box不需要delay</div><div>            sequneceQueue: false</div><div>        }</div><div>    },{</div><div>        elements: head_img,//每个元素都有elements</div><div>        properties: "Tabbits.fromBottomToTop",//properties使用上面的自定义动画</div><div>        //还有options，不希望页面刚打开动画就开始</div><div>        options: {</div><div>            sequneceQueue: false,</div><div>            delay: 60</div><div>        }</div><div>    }];</div><div><br/></div><div>    //7.定义点击按钮动画的sequence动画序列</div><div>    var sequenceButtonClick = [{</div><div>        elements: container,</div><div>        properties: "Tabbits.fromTopToBottom",</div><div>        options: {</div><div>            sequenceQueue: false,</div><div>            delay: 300</div><div>        }</div><div>    },{//正面出场</div><div>        elements: box,</div><div>        properties: "Tabbits.fromTopToBottom",</div><div>        options: {</div><div>            sequenceQueue: false</div><div>        }</div><div>    },{//容器重新入场</div><div>        elements: container,</div><div>        properties: "Tabbits.fromBottomToTop",//再让container进来</div><div>    },{//背面入场</div><div>        elements: back_box,</div><div>        properties: "Tabbits.fromBottomToTop",</div><div>        options: {</div><div>            sequenceQueue: false</div><div>        }</div><div>    },{//背面图片入场</div><div>        // elememts: imgs,</div><div>        // properties: "Tabbits.back_imgIn",</div><div>        elements: back_box_imgs,</div><div>        properties: "Tabbits.back_imgIn",</div><div>        options: {</div><div>            sequenceQueue: false</div><div>        }</div><div>    }];</div><div><br/></div><div>    //9.定义关闭按钮的sequence动画序列</div><div>    var sequenceClose = [{</div><div>        elements: back_box_imgs,</div><div>        properties: "Tabbits.back_imgOut"</div><div>    },{</div><div>        elements: container,</div><div>        properties: "Tabbits.fromTopToBottom",</div><div>        options: {</div><div>            sequenceQueue: false,</div><div>            delay: 3000</div><div>        }</div><div>    },{//背面出场</div><div>        elements: back_box,</div><div>        properties: "Tabbits.fromTopToBottom",</div><div>        options: {</div><div>            sequenceQueue: false</div><div>        }</div><div>    },{//容器重新入场</div><div>        elements: container,</div><div>        properties: "Tabbits.fromBottomToTop",//再让container进来</div><div>    },{//正面入场</div><div>        elements: box,</div><div>        properties: "Tabbits.fromBottomToTop",</div><div>        options: {</div><div>            sequenceQueue: false</div><div>        }</div><div>    }];</div><div><br/></div><div>//4.事件绑定（在相应的事件发生的时候跑相应的动画序列）</div><div><br/></div><div>    //4.调用RunSequence函数将自定义动画跑起来</div><div>    $.Velocity.RunSequence(sequenceInit);</div><div>    open.on('click',function() {</div><div>        $.Velocity.RunSequence(sequenceButtonClick);</div><div>    });</div><div>    close.on('click',function() {</div><div>        $.Velocity.RunSequence(sequenceClose);</div><div>    });</div><div><br/></div><div>})(jQuery);</div><div><br/></div></body></html>